(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6464],{30659:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,87970,23)),Promise.resolve().then(s.bind(s,44149)),Promise.resolve().then(s.bind(s,94371))},94371:(e,a,s)=>{"use strict";s.d(a,{Profileinsructor:()=>o});var i=s(95155),t=s(12115),r=s(28424),n=s(49815),c=s(67396),l=s(5565);let o=()=>{let[e,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(0,r.x$)().then(e=>{a(e.data.map(a=>{let s=e.MangXaHoi.filter(e=>e.id_giangvien===a.giangVien.id);return{...a,giangVien:{...a.giangVien,MangXaHoi:s}}}))})},[]),(0,t.useEffect)(()=>{(async()=>{try{let e=await (0,n.xK)();console.log(e,"res");let a=new URLSearchParams(window.location.search).get("id");if(a){let s=e.some(e=>String(e.id_giangvien)===a);o(s)}else console.warn("id_giangvien not found in URL")}catch(e){console.error("Error fetching follow status:",e)}})()},[]),console.log(s,"follow");let d=e.map(e=>e.baihoc.length).reduce((e,a)=>e+a,0),h=e.map(e=>e.ThanhToan.length).reduce((e,a)=>e+a,0),g=e=>{let a=Math.floor(e=Math.max(0,Math.min(e=parseFloat(e),5))),s=e%1!=0;return(0,i.jsxs)(i.Fragment,{children:[[...Array(a)].map((e,a)=>(0,i.jsx)("i",{className:"fa-solid fa-star"},"full-".concat(a))),s&&(0,i.jsx)("i",{className:"fa-solid fa-star-half"}),[...Array(5-a-(s?1:0))].map((e,a)=>(0,i.jsx)("i",{className:"fa-regular fa-star"},"empty-".concat(a)))]})},m=e=>{if(0===e.length)return 0;let a=e.map(e=>parseFloat(e.danhgia));return(a.reduce((e,a)=>e+a,0)/a.length).toFixed(1)},u=()=>{let a=e.flatMap(e=>e.danhgia.map(e=>parseFloat(e.danhgia)));return 0===a.length?0:(a.reduce((e,a)=>e+a,0)/a.length).toFixed(1)},x=async()=>{try{await (0,n.FH)(),o(!0),alert("Theo d\xf5i th\xe0nh c\xf4ng")}catch(e){alert("Theo d\xf5i thất bại")}};return(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("div",{className:"dashboard-banner-area-wrapper",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row",children:e.slice(0,1).map(e=>(0,i.jsx)("div",{className:"col-lg-12",children:(0,i.jsxs)("div",{className:"dashboard-banner-area-start bg_image",children:[(0,i.jsxs)("div",{className:"rating-area-banner-dashboard",children:[(0,i.jsxs)("div",{className:"stars",children:[(0,i.jsx)("span",{children:u()}),g(u())]}),(0,i.jsx)("p",{children:"Giảng vi\xean tiếp thị kỹ thuật số"}),(0,i.jsxs)("button",{onClick:x,className:"create-btn",disabled:s,children:[(0,i.jsx)("i",{className:"fa-regular fa-circle-plus"})," ",s?"Đ\xe3 Theo D\xf5i":"Theo D\xf5i"]})]}),(0,i.jsxs)("div",{className:"author-profile-image-and-name flex items-center space-x-4 p-4 bg-white shadow-md rounded-lg",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)(l.default,{width:500,height:300,src:e.giangVien.hinh,className:"w-24 h-24 rounded-full object-cover",alt:"dashboard"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"title text-3xl font-extrabold text-black",children:e.giangVien.ten}),(0,i.jsxs)("div",{className:"course-video mt-2",children:[(0,i.jsxs)("div",{className:"single flex items-center space-x-2 text-black",children:[(0,i.jsx)("i",{className:"fa-regular fa-video"}),(0,i.jsxs)("span",{className:"text-lg font-semibold",children:[d," B\xe0i Học"]})]}),(0,i.jsxs)("div",{className:"single flex items-center space-x-2 text-black mt-1",children:[(0,i.jsx)("i",{className:"fa-light fa-users"}),(0,i.jsxs)("span",{className:"text-lg font-semibold",children:[h," Sinh vi\xean"]})]})]})]})]})]})},e.giangVien.id))})})}),(0,i.jsx)("div",{className:"rts-instructor-profile rts-section-gapBottom pt-12",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-3"}),(0,i.jsx)("div",{className:"col-lg-9",children:(0,i.jsxs)("div",{className:"instructor-profile-right-area-start",children:[(0,i.jsxs)("div",{className:"bio-graphyarea",children:[(0,i.jsx)("h5",{className:"title",children:"Tiểu sử"}),e.slice(0,1).map(e=>(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"disc",children:e.giangVien.tieusu}),(0,i.jsx)("div",{className:"social-area-dashboard-footer",children:(0,i.jsx)("ul",{children:e.giangVien.MangXaHoi.map(e=>(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:e.url,children:(0,i.jsx)("i",{className:"fa-brands fa-".concat(e.nentang)})})},e.id))})})]},e.giangVien.id))]}),(0,i.jsx)("div",{className:"row g-5 mt-8",children:e.map(e=>(0,i.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:(0,i.jsx)(c.default,{href:"/page/course-detail?id=".concat(e.id),children:(0,i.jsxs)("div",{className:"rts-single-course",children:[(0,i.jsx)("a",{className:"thumbnail",children:(0,i.jsx)(l.default,{width:500,height:300,src:e.hinh,alt:"course"})}),(0,i.jsx)("div",{className:"save-icon","data-bs-toggle":"modal","data-bs-target":"#exampleModal-login",children:(0,i.jsx)("i",{className:"fa-sharp fa-light fa-bookmark"})}),(0,i.jsxs)("div",{className:"tags-area-wrapper",children:[(0,i.jsx)("div",{className:"single-tag",children:(0,i.jsx)("span",{children:e.theLoaiCon.ten})}),(0,i.jsx)("div",{className:"single-tag",children:(0,i.jsx)("span",{children:e.chuDe.ten})})]}),(0,i.jsxs)("div",{className:"lesson-studente",children:[(0,i.jsxs)("div",{className:"lesson",children:[(0,i.jsx)("i",{className:"fa-light fa-calendar-lines-pen"}),(0,i.jsxs)("span",{children:[e.baihoc.length," Lessons"]})]}),(0,i.jsxs)("div",{className:"lesson",children:[(0,i.jsx)("i",{className:"fa-light fa-user-group"}),(0,i.jsxs)("span",{children:[e.ThanhToan.length," Students"]})]})]}),(0,i.jsx)("h5",{className:"title",children:e.ten}),(0,i.jsx)("p",{className:"teacher",children:e.giangVien.ten}),(0,i.jsxs)("div",{className:"rating-and-price",children:[(0,i.jsxs)("div",{className:"stars",children:[(0,i.jsx)("span",{children:m(e.danhgia)}),g(m(e.danhgia))]}),(0,i.jsx)("div",{className:"price-area",children:0===e.gia||0===e.giamgia?(0,i.jsx)("div",{className:"price text-white bg-cyan-500 p-1 rounded-md",children:"Miễn Ph\xed"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"not price line-through text-gray-500 mr-2",children:["$",e.gia]}),(0,i.jsxs)("div",{className:"price text-red-500 font-semibold",children:["$",e.giamgia]})]})})]})]})})},e.id))})]})})]})})})]})}},49815:(e,a,s)=>{"use strict";s.d(a,{FH:()=>i,iu:()=>r,xK:()=>t});let i=async()=>{let e;let a=localStorage.getItem("data");if(!a)throw Error("No user data found");try{e=JSON.parse(a)}catch(e){throw Error("Invalid user data")}let s=new URLSearchParams(window.location.search).get("id");if(!s)throw Error("No lecturer ID provided");let i=await fetch("http://huuphuoc.id.vn/api/TheoDoiGiangVien",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_giangvien:s,id_nguoidung:e.id})});if(!i.ok)throw Error("Failed to fetch courses");return i.json()},t=async()=>{let e=JSON.parse(localStorage.getItem("data")),a=await fetch("http://huuphuoc.id.vn/api/showAllTheoDoi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_nguoidung:e.id})});if(!a.ok)throw Error("Failed to fetch courses");return a.json()},r=async e=>{try{let a=await fetch("http://huuphuoc.id.vn/api/deleteTheoDoi/".concat(e),{method:"DELETE"});if(!a.ok)throw Error("Failed to unfollow lecturer");return await a.json()}catch(e){throw console.error("Error:",e),e}}},28424:(e,a,s)=>{"use strict";s.d(a,{U1:()=>i,fT:()=>r,qh:()=>t,x$:()=>n});let i=async()=>{try{let e=await fetch("http://huuphuoc.id.vn/api/allkhoahoc");if(!e.ok)throw Error("Failed to fetch courses");return await e.json()}catch(e){throw console.error("Error fetching courses:",e),e}},t=async e=>{let a=await fetch("".concat("http://huuphuoc.id.vn/api/Khoahocchitiet/".concat(e)));if(!a.ok)throw Error("Failed to fetch courses");return a.json()},r=async()=>{let e=new URLSearchParams(window.location.search).get("id");console.log("id_khoahoc",e);let a=JSON.parse(localStorage.getItem("data"));if(!e)throw Error("Course ID not found in URL");try{let s=await fetch("".concat("http://huuphuoc.id.vn/api/ThemKhoaHocDaHoc"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_khoahoc:e,id_nguoidung:a.id})});if(!s.ok){let e=await s.text();throw Error("Failed to fetch certificate: ".concat(s.status," ").concat(s.statusText," - ").concat(e))}return s.json()}catch(e){throw console.error("Error:",e),e}},n=async()=>{let e=new URLSearchParams(window.location.search).get("id"),a=await fetch("".concat("http://huuphuoc.id.vn/api/GiangVienKhoaHocHienThi/".concat(e)));if(!a.ok)throw Error("Failed to fetch courses");return a.json()}}},e=>{var a=a=>e(e.s=a);e.O(0,[4297,7970,3264,4592,1068,9228,2651,3726,4149,8441,1517,7358],()=>a(30659)),_N_E=e.O()}]);