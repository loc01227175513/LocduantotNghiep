(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2247],{68192:(e,t,a)=>{Promise.resolve().then(a.bind(a,79556))},79556:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var l=a(95155),r=a(12115),s=a(82651);let o=function(){let[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)([""]),[i,n]=(0,r.useState)(null),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{{let e=new URL(window.location.href).searchParams.get("id");d(e),console.log("id:",e)}},[]),console.log("id:",c);let u=(0,r.useCallback)(async()=>{try{let e=(await s.A.get("http://huuphuoc.id.vn/api/motaKhoaHoc/".concat(c))).data;console.log("API response data:",e);let a=e.data.flatMap((e,t)=>{try{let a=JSON.parse(e.muctieu);if(Array.isArray(a))return a.map((e,a)=>100*t+a);return console.error("Parsed mota is not an array:",a),[]}catch(e){return console.error("Error parsing JSON:",e),[]}});t(a),console.log("Fetched motaIds:",a);let l=e.data.flatMap(e=>{try{let t=JSON.parse(e.muctieu);if(Array.isArray(t))return t;return console.error("Parsed mota is not an array:",t),[]}catch(e){return console.error("Error parsing JSON:",e),[]}});o(l.length>0?l:[""]),console.log("Fetched hocSinhInputs:",l)}catch(e){console.error("Error fetching course description:",e)}},[c,t,o]);(0,r.useEffect)(()=>{u()},[u]),(0,r.useEffect)(()=>{u()},[c,u]);let h=(e,t,a,l)=>{let r=[...a];r[e]=l,t(r)},m=(e,t)=>{e.every(e=>""!==e.trim())&&t([...e,""])},b=async()=>{let e=a.filter(e=>""!==e.trim());try{await s.A.post("http://huuphuoc.id.vn/api/updateMota",{id_khoahoc:c,mota:e}),alert("M\xf4 tả kh\xf3a học đ\xe3 được gửi th\xe0nh c\xf4ng")}catch(e){console.error("Error submitting course description:",e)}},g=async(t,l,r,o,i,n)=>{let c=[...l];if(c.length>1){let l=e[t];if(void 0===l){console.error("idmota is undefined for index:",t),console.log("Current motaIds:",e),console.log("Current hocSinhInputs:",a);return}try{console.log("Request data:",{idmota:l,id_khoahoc:n});let e=await s.A.post("http://huuphuoc.id.vn/api/xoamota",{idmota:l,id_khoahoc:n});console.log("Delete response:",e),c.splice(t,1),r(c);let a=[...o];a.splice(t,1),i(a),alert("M\xf4 tả đ\xe3 được x\xf3a th\xe0nh c\xf4ng"),window.location.reload()}catch(e){console.error("Error deleting description:",e),console.error("Request data:",{idmota:l,id_khoahoc:n}),alert("C\xf3 lỗi xảy ra khi x\xf3a m\xf4 tả")}}else r([""])};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"max-w-4xl p-8 mx-auto bg-white shadow-sm",children:[(0,l.jsx)("h1",{className:"mb-6 text-3xl font-bold",children:"Người học dự định"}),(0,l.jsx)("p",{className:"mb-8 text-lg text-gray-700",children:"C\xe1c m\xf4 tả sau đ\xe2y sẽ hiển thị c\xf4ng khai tr\xean Trang đ\xedch kh\xf3a học của bạn v\xe0 sẽ c\xf3 t\xe1c động trực tiếp đến hiệu suất kh\xf3a học của bạn. C\xe1c m\xf4 tả n\xe0y sẽ gi\xfap người học quyết định xem kh\xf3a học của bạn c\xf3 ph\xf9 hợp với họ kh\xf4ng."}),(0,l.jsx)("div",{className:"relative space-y-8",children:(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("label",{className:"block mb-4 text-xl font-semibold",children:"Học sinh sẽ học được g\xec trong kh\xf3a học của bạn?"}),a.map((r,s)=>(0,l.jsxs)("div",{className:"relative mb-4",onMouseEnter:()=>n(s),onMouseLeave:()=>n(null),children:[(0,l.jsx)("input",{type:"text",className:"w-full p-3 text-gray-900 bg-white border border-gray-300 rounded",placeholder:"V\xed dụ: X\xe1c định vai tr\xf2 v\xe0 tr\xe1ch nhiệm của người quản l\xfd dự \xe1n",value:r,onChange:e=>h(s,o,a,e.target.value)}),i===s&&(0,l.jsx)("button",{className:"absolute w-20 text-right right-2 text-danger",onClick:()=>g(s,a,o,e,t,c),children:"X\xf3a"})]},s)),(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)("button",{onClick:()=>m(a,o),className:"px-6 py-3 font-semibold text-white bg-purple-600 rounded hover:bg-purple-700",children:"Th\xeam nội dung"})})]})}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsx)("button",{onClick:b,className:"px-6 py-3 font-semibold text-white bg-green-600 rounded hover:bg-green-700",children:"Gửi m\xf4 tả kh\xf3a học"})})]})})};var i=a(67396),n=a(42424),c=a(67089);function d(e){let{children:t,id:a}=e;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("header",{className:"sticky top-0 z-10 bg-white shadow",children:(0,l.jsxs)("div",{className:"container flex items-center justify-between px-4 py-3 mx-auto",children:[(0,l.jsxs)(i.default,{href:"/page/lecturer-dashboard/quanlykhoahoc",className:"flex items-center text-gray-700",children:[(0,l.jsx)("i",{className:"bi bi-arrow-left"}),(0,l.jsx)("span",{className:"ml-2 text-base font-medium",children:"Quay lại kh\xf3a học"})]}),(0,l.jsx)("h1",{className:"text-lg font-semibold",children:"Trang bi\xean tập kh\xf3a học"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)(i.default,{href:"/page/course-detail?id=".concat(a),className:"btn btn-link",children:(0,l.jsxs)("button",{className:"btn border border-[#32ADE6] text-[#32ADE6] bg-white hover:bg-[#32ADE6] hover:text-white btn-sm",children:[(0,l.jsx)("i",{className:"bi bi-eye"})," Xem trước"]})}),(0,l.jsxs)("button",{className:"btn bg-[#32ADE6] text-white btn-sm",children:[(0,l.jsx)("i",{className:"bi bi-save"})," Lưu"]}),(0,l.jsxs)(n.W1,{as:"div",className:"relative",children:[(0,l.jsx)(n.W1.Button,{className:"p-0 text-gray-700 btn btn-link",children:(0,l.jsx)("i",{className:"bi bi-gear"})}),(0,l.jsx)(c.e,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,l.jsx)(n.W1.Items,{className:"absolute right-0 z-20 w-48 mt-2 bg-white border rounded-md shadow-md",children:(0,l.jsx)(n.W1.Item,{children:e=>{let{active:t}=e;return(0,l.jsx)(i.default,{href:"#",className:"block px-4 py-2 text-sm ".concat(t?"bg-gray-100":""),children:"C\xe0i đặt"})}})})})]})]})]})}),(0,l.jsx)("main",{children:t})]})}var u=a(94516);let h=()=>{let[e,t]=(0,r.useState)(null),[a,o]=(0,r.useState)([]),[i,n]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[h,m]=(0,r.useState)(""),[b,g]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[f,v]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null),[w,N]=(0,r.useState)(null),[k,C]=(0,r.useState)(null),[S,L]=(0,r.useState)(null);(0,r.useRef)(null);let[E,I]=(0,r.useState)(0),_=(0,r.useRef)(null);(0,r.useEffect)(()=>{{let e=new URL(window.location.href).searchParams.get("id");t(e),console.log("id:",e)}},[]),console.log("id:",e),(0,r.useEffect)(()=>{(async()=>{if(e)try{let t=(await s.A.post("https://huuphuoc.id.vn/api/showBaiHoc",{id_khoahoc:e})).data.data.map(e=>({id:e.id,name:e.ten,subItems:e.subItems||[]}));o(t);let a=t.reduce((e,t)=>t.id>e?t.id:e,0);I(a)}catch(e){console.error("Error fetching lessons:",e)}})()},[e]);let $=(0,r.useCallback)(async t=>{try{let a=t.filter(e=>e&&e.id).map((t,a)=>({id_baihoc:t.id,id_khoahoc:e,order:a+1}));console.log("Dữ liệu gửi l\xean:",{baihocs:a,id_khoahoc:e}),await s.A.post("https://huuphuoc.id.vn/api/keoThaBaiHoc",{baihocs:a}),console.log("Cập nhật thứ tự th\xe0nh c\xf4ng!")}catch(e){e.response?console.error("Error response from server:",e.response.data):console.error("Error updating lesson order:",e)}},[e]),T=(0,r.useCallback)(async(e,t)=>{try{console.log("Starting updateSubItemParent"),console.log("subItemId:",e),console.log("newParentId:",t),await s.A.post("https://huuphuoc.id.vn/api/diChuyenVideo",{video_id:e,new_baihoc_id:t}),o(a=>{console.log("Previous items:",a);let l=a.map(l=>{if(l.id===t){let t=a.find(t=>t.subItems.some(t=>t.id===e)).subItems.find(t=>t.id===e);return console.log("Moved sub item:",t),{...l,subItems:[...l.subItems,t]}}return l.subItems.some(t=>t.id===e)?{...l,subItems:l.subItems.filter(t=>t.id!==e)}:l});return window.location.reload(),console.log("Updated items:",l),l});let a=document.querySelector('[data-parent-id="'.concat(t,'"]'));a?A(t,a):console.error("Container not found for parentId:",t),console.log("Sub item đ\xe3 được di chuyển th\xe0nh c\xf4ng")}catch(e){console.error("Error moving sub item:",e)}},[]);(0,r.useEffect)(()=>{let e=document.querySelectorAll(".nested-sortable");e.forEach(e=>{new u.Ay(e,{group:"nested",animation:150,fallbackOnBody:!0,swapThreshold:.65,onEnd:e=>{let t=parseInt(e.from.dataset.parentId),a=parseInt(e.to.dataset.parentId),l=parseInt(e.item.dataset.id);t!==a?T(l,a):A(a,e.to)}})});let t=new u.Ay(document.getElementById("hs-nested-sortable"),{animation:150,onEnd:e=>{let t=[...a],[l]=t.splice(e.oldIndex,1);t.splice(e.newIndex,0,l),o(t),$(t)}});return()=>{e.forEach(e=>{e&&u.Ay.get(e).destroy()}),t&&t.destroy()}},[a,$,T]);let A=async(e,t)=>{try{let a=Array.from(t.children).map((t,a)=>({id_video:parseInt(t.dataset.id),order:a+1,id_baihoc:e}));console.log("Updating sub-item order for parentId:",e),console.log("Sub-items to update:",a),await s.A.post("https://huuphuoc.id.vn/api/sapXepThuTuVideo",{videos:a}),console.log("Cập nhật thứ tự sub item th\xe0nh c\xf4ng!")}catch(e){console.error("Error updating sub item order:",e)}},P=async()=>{if(i.trim())try{let e=E+1;await D(i,e),o([...a.filter(e=>null!==e),{id:e,name:i,subItems:[]}]),n(""),g(!1),I(e),0===a.filter(e=>null!==e).length&&window.location.reload()}catch(e){console.error("Error adding lesson:",e)}};(0,r.useEffect)(()=>{console.log(a,"items")},[a]);let D=async t=>{if(e)try{let a=(await s.A.post("https://huuphuoc.id.vn/api/themBaiHoc",{id_khoahoc:e,ten:t})).data.data.some(t=>t.khoahocs.some(t=>t.id===parseInt(e)));setIsCourseRegistered(a)}catch(e){console.error("Error adding lesson:",e)}},F=async e=>{if(c.trim())try{let t=(await s.A.post("https://huuphuoc.id.vn/api/themSubBaiHoc",{ten:c,id_baihoc:e})).data.data;o(a.map(a=>a&&a.id===e?{...a,subItems:[...a.subItems,{id:t.id,name:t.ten}]}:a)),d(""),x(!1)}catch(e){console.error("Error adding sub item:",e)}},R=e=>{let t=/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/.exec(e);return 3600*parseInt(t[1]||0,10)+60*parseInt(t[2]||0,10)+parseInt(t[3]||0,10)},M=e=>{let t=Math.floor(e/3600).toString().padStart(2,"0"),a=Math.floor(e%3600/60).toString().padStart(2,"0"),l=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(a,":").concat(l)},U=async e=>{if(h.trim()){let t=q(h);if(t)try{console.log("Extracted videoId:",t);let a="https://www.googleapis.com/youtube/v3/videos?id=".concat(t,"&part=contentDetails&key=AIzaSyBoFccofvQSQ5Y0l29SdeRD7hka5lL9-fk");console.log("API URL:",a);let l=(await s.A.get(a)).data.items[0].contentDetails.duration,r=R(l),o=M(r);L(o);let i={id_video:e,thoiluong:o,url:t};console.log("Payload:",i),await s.A.post("https://huuphuoc.id.vn/api/taonoidungsub",i),console.log("Adding content to sub-item ID ".concat(e)),m(""),v(!1)}catch(e){e.response?(console.error("Error response data:",e.response.data),console.error("Error response status:",e.response.status),console.error("Error response headers:",e.response.headers)):e.request?console.error("Error request:",e.request):console.error("Error message:",e.message),console.error("Error config:",e.config)}else console.error("Invalid YouTube URL:",h)}else console.error("Content URL is invalid")},H=async(e,t)=>{try{let a={id_video:t};console.log("Sending data to server:",a),await s.A.post("https://huuphuoc.id.vn/api/Xoasub",a),o(a=>{let l=a.map(a=>a&&a.id===e?{...a,subItems:a.subItems.filter(e=>e.id!==t)}:a);return console.log("Updated items list:",l),l}),console.log("Sub item đ\xe3 được x\xf3a th\xe0nh c\xf4ng")}catch(e){console.error("Error deleting sub item:",e)}},O=async e=>{let t=a.find(t=>t&&t.id===e);if(t&&t.subItems.length>0)alert("Vui l\xf2ng x\xf3a c\xe1c mục con trước khi x\xf3a mục ch\xednh.");else try{let t=await s.A.post("https://huuphuoc.id.vn/api/xoabaihoc",{id_baihoc:e});200===t.status?(o(a.filter(t=>t&&t.id!==e)),console.log("B\xe0i học đ\xe3 được x\xf3a th\xe0nh c\xf4ng")):console.error("Failed to delete lesson:",t.statusText)}catch(e){console.error("Error deleting lesson:",e)}},B=async e=>{try{let t=(await s.A.post("https://huuphuoc.id.vn/api/ShowSubBaiHoc",{id_baihoc:e})).data.data.map(e=>({id:e.id,name:e.ten}));o(a.map(a=>a&&a.id===e?{...a,subItems:t}:a))}catch(e){console.error("Error fetching sub items:",e)}},z=e=>{C(e),B(e)},q=e=>{let t=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return t?t[1]:null};(0,r.useEffect)(()=>{let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=()=>{_.current=new window.YT.Player("youtube-player",{height:"400",width:"100%",videoId:q(h),events:{onReady:K}})}},[h]);let K=e=>{L(e.target.getDuration())};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{id:"hs-nested-sortable",className:"p-5 bg-white",children:[null==a?void 0:a.map((e,t)=>{var a;return e&&e.name?(0,l.jsxs)("div",{className:"mb-4 border-b border-black",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-100 rounded",children:[(0,l.jsx)("span",{className:"font-semibold text-black",children:e.name}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>{x(!0),j(e.id)},className:"p-1 text-white bg-blue-500 rounded",children:"Th\xeam Sub Item"}),(0,l.jsx)("button",{onClick:()=>O(e.id),className:"p-1 text-white bg-red-500 rounded",children:"X\xf3a Phần"}),(0,l.jsx)("button",{onClick:()=>z(e.id),className:"p-1 text-white bg-green-500 rounded",children:"Mở rộng"})]})]}),(0,l.jsx)("div",{className:"space-y-2 nested-sortable ps-5","data-parent-id":e.id,children:null===(a=e.subItems)||void 0===a?void 0:a.map(t=>t&&t.name?(0,l.jsxs)("div",{"data-id":t.id,className:"flex items-center p-2 bg-white border border-black rounded-lg gap-x-3 cursor-grab",children:[(0,l.jsx)("span",{className:"text-black",children:t.name}),(0,l.jsx)("button",{onClick:()=>H(e.id,t.id),className:"p-1 text-white bg-red-500 rounded",children:"X\xf3a"}),(0,l.jsx)("button",{onClick:()=>{v(!0),N(t.id)},className:"p-1 text-white bg-yellow-500 rounded",children:"Tạo Nội Dung"})]},t.id):null)})]},e.id||t):null}),(0,l.jsx)("button",{onClick:()=>g(!0),className:"p-2 mt-4 text-white bg-green-500 rounded",children:"Th\xeam Phần"}),b&&(0,l.jsx)("div",{className:"fixed top-0 left-0 flex items-center justify-center w-full h-full bg-gray-500 bg-opacity-75 modal",children:(0,l.jsxs)("div",{className:"p-5 bg-white rounded-lg",children:[(0,l.jsx)("h2",{className:"mb-4 text-xl text-black",children:"Nhập t\xean phần mới"}),(0,l.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),className:"w-full p-2 bg-red-500 border border-black",placeholder:"T\xean phần"}),(0,l.jsxs)("div",{className:"flex justify-end mt-4",children:[(0,l.jsx)("button",{onClick:()=>g(!1),className:"p-2 mr-2 bg-gray-300 rounded",children:"Hủy"}),(0,l.jsx)("button",{onClick:P,className:"p-2 text-white bg-blue-500 rounded",children:"Th\xeam"})]})]})}),p&&(0,l.jsx)("div",{className:"fixed top-0 left-0 flex items-center justify-center w-full h-full bg-gray-500 bg-opacity-75 modal",children:(0,l.jsxs)("div",{className:"p-5 bg-white rounded-lg",children:[(0,l.jsx)("h2",{className:"mb-4 text-xl text-black",children:"Nhập t\xean Sub Item mới"}),(0,l.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),className:"w-full p-2 bg-red-500 border border-black",placeholder:"T\xean Sub Item"}),(0,l.jsxs)("div",{className:"flex justify-end mt-4",children:[(0,l.jsx)("button",{onClick:()=>x(!1),className:"p-2 mr-2 bg-gray-300 rounded",children:"Hủy"}),(0,l.jsx)("button",{onClick:()=>F(y),className:"p-2 text-white bg-blue-500 rounded",children:"Th\xeam"})]})]})}),f&&(0,l.jsx)("div",{className:"fixed top-0 left-0 flex items-center justify-center w-full h-full bg-gray-500 bg-opacity-75 modal",children:(0,l.jsxs)("div",{className:"p-5 bg-white rounded-lg",children:[(0,l.jsx)("h2",{className:"mb-4 text-xl text-black",children:"Nhập URL nội dung mới"}),(0,l.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),className:"w-full p-2 mt-2 bg-red-500 border border-black",placeholder:"URL"}),h&&(0,l.jsx)("iframe",{id:"youtube-player",width:"100%",height:"400",src:"https://www.youtube.com/embed/".concat(q(h),"?enablejsapi=1"),title:"YouTube Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,l.jsxs)("div",{className:"flex justify-end mt-4",children:[(0,l.jsx)("button",{onClick:()=>v(!1),className:"p-2 mr-2 bg-gray-300 rounded",children:"Hủy"}),(0,l.jsx)("button",{onClick:()=>U(w),className:"p-2 text-white bg-blue-500 rounded",children:"Th\xeam"})]})]})})]})})};var m=a(5565);let b=function(){var e;let[t,a]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[n,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(""),[h,b]=(0,r.useState)([]),g=localStorage.getItem("lecturerId"),p=g?JSON.parse(g):{},[x,f]=(0,r.useState)(null),[v,y]=(0,r.useState)({ten:"",hinh:"",id_khoahoc:"",id_chude:"",id_theloaicon:"",id_theloai:"",trinhdo:"",mota:"",id_giangvien:(null==p?void 0:p.giangvien)||""}),[j,w]=(0,r.useState)(null),[N,k]=(0,r.useState)(""),[C,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{{let e=new URL(window.location.href).searchParams.get("id");f(e),y(t=>({...t,id_khoahoc:e}))}},[]),(0,r.useEffect)(()=>{let e=async()=>{try{let e=(await s.A.post("http://huuphuoc.id.vn/api/ShowTrangDichKhoaHoc",{id_khoahoc:x})).data;y({ten:e.khoahoc.ten,id_khoahoc:e.khoahoc.id,id_theloai:e.theloai.id,id_theloaicon:e.theloaicon.id,id_chude:e.chude.id,mota:e.khoahoc.mota,trinhdo:e.trinhdo.ten,id_giangvien:p.giangvien,hinh:e.khoahoc.hinh}),k(e.khoahoc.hinh)}catch(e){console.error("Error fetching course data: ",e)}};x&&e()},[x,p.giangvien]),(0,r.useEffect)(()=>{s.A.get("http://huuphuoc.id.vn/api/theloai").then(e=>{c(e.data.data),console.log(e.data.data)}).catch(e=>{console.error("There was an error fetching the data!",e)})},[]);let L=(e,t)=>{u(e),b([]),y({...v,id_chude:t})},E=e=>{let{name:t,value:a}=e.target;y({...v,[t]:a})};return(0,l.jsxs)("div",{className:"max-w-4xl p-6 mx-auto bg-white rounded-lg shadow-md",children:[(0,l.jsx)("h1",{className:"mb-6 text-2xl font-bold text-red-500",children:"Course Page"}),(0,l.jsx)("p",{className:"mb-6 text-gray-700",children:"Your course landing page is crucial to your success on Udemy. If its done right, it can also help you gain visibility in search engines like Google."}),(0,l.jsxs)("form",{className:"space-y-6",onSubmit:e=>{if(e.preventDefault(),!C){alert("Please upload the image first.");return}let t=new FormData;Object.keys(v).forEach(e=>{t.append(e,v[e])}),s.A.post("http://huuphuoc.id.vn/api/TrangDichKhoaHoc",t).then(e=>{console.log(e.data)}).catch(e=>{console.error("There was an error submitting the form!",e)})},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Course Title"}),(0,l.jsx)("input",{type:"text",name:"ten",className:"block w-full p-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md focus:bg-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter your course title",value:v.ten,onChange:E})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"M\xf4 tả kh\xf3a học"}),(0,l.jsx)("textarea",{name:"mota",className:"block w-full p-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md focus:bg-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter your course description",value:v.mota,onChange:E})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),(0,l.jsxs)("select",{name:"trinhdo",className:"block w-full p-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md focus:bg-white focus:outline-none focus:ring-2 focus:ring-red-500",value:v.trinhdo,onChange:E,children:[(0,l.jsx)("option",{value:"-1",children:"-- Chọn cấp độ --"}),(0,l.jsx)("option",{value:"Tr\xecnh độ sơ cấp",children:"Beginner Level"}),(0,l.jsx)("option",{value:"Tr\xecnh độ trung cấp",children:"Intermediate Level"}),(0,l.jsx)("option",{value:"Cấp độ chuy\xean gia",children:"Expert Level"}),(0,l.jsx)("option",{value:"Tất cả c\xe1c cấp độ",children:"All Levels"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,l.jsxs)("select",{name:"id_theloai",className:"block w-full p-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md focus:bg-white focus:outline-none focus:ring-2 focus:ring-red-500",value:t,onChange:e=>{a(e.target.value),i(""),y({...v,id_theloai:e.target.value,id_theloaicon:""})},children:[(0,l.jsx)("option",{value:"",children:"-- Chọn mục thể loại --"}),n.filter(e=>e.theloaicons&&e.theloaicons.length>0).map(e=>(0,l.jsx)("option",{value:e.id,children:e.ten},e.id))]})]})]}),t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Chọn chuy\xean ng\xe0nh"}),(0,l.jsxs)("select",{name:"id_theloaicon",className:"block w-full p-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md focus:bg-white focus:outline-none focus:ring-2 focus:ring-red-500",value:o,onChange:e=>{i(e.target.value),y({...v,id_theloaicon:e.target.value})},children:[(0,l.jsx)("option",{value:"",children:"-- Chọn chuy\xean ng\xe0nh --"}),null===(e=n.find(e=>e.id===parseInt(t)))||void 0===e?void 0:e.theloaicons.map(e=>(0,l.jsx)("option",{value:e.id,children:e.ten},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Search Topics"}),(0,l.jsx)("input",{type:"text",className:"block w-full p-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md focus:bg-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Search for topics",value:d,onChange:e=>{u(e.target.value),""===e.target.value?b([]):b(n.flatMap(e=>e.theloaicons.flatMap(e=>e.chudes)).filter(t=>t.ten.toLowerCase().includes(e.target.value.toLowerCase())))}})]}),d&&h.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Filtered Topics"}),(0,l.jsx)("ul",{className:"block w-full p-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md",children:h.map(e=>(0,l.jsx)("li",{onClick:()=>L(e.ten,e.id),className:"p-1 cursor-pointer hover:bg-gray-100",children:e.ten},e.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Upload File"}),(0,l.jsx)("input",{type:"file",name:"hinh",className:"block w-full p-2 mt-1 text-gray-700 bg-white border border-gray-300 rounded-md focus:bg-white focus:outline-none focus:ring-2 focus:ring-red-500",onChange:e=>{w(e.target.files[0])}}),(0,l.jsx)("button",{type:"button",onClick:()=>{let e=new FormData;e.append("file",j),e.append("upload_preset","my_unsigned_preset"),fetch("https://api.cloudinary.com/v1_1/".concat("dn7s1su66","/image/upload"),{method:"POST",body:e}).then(e=>e.json()).then(e=>{k(e.secure_url),y(t=>({...t,hinh:e.secure_url})),S(!0)}).catch(e=>console.error(e))},className:"px-4 py-2 mt-2 text-white bg-red-500 rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Upload Image"}),N&&(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(m.default,{width:500,height:300,src:N,alt:"Uploaded",className:"w-full h-auto rounded-md shadow-sm"})})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-purple-500 rounded-md hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Submit"})})]})]})},g=function(){let[e,t]=(0,r.useState)("usd"),[a,s]=(0,r.useState)(""),[o]=(0,r.useState)(!0),[i,n]=(0,r.useState)(!0),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[m,b]=(0,r.useState)(null);(0,r.useEffect)(()=>{b(new URL(window.location.href).searchParams.get("id"))},[]),(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("http://huuphuoc.id.vn/api/showgiaKhoaHoc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_khoahoc:m})});e.ok?(await e.json(),s(data.gia),d(data.giamgia)):h("Error fetching course price.")}catch(e){h("Error fetching course price.")}})()},[m]);let g={usd:[{value:"0",label:"Free",vndLabel:"Free"},{value:"19.99",label:"$19.99 (tier 1)",vndLabel:"₫399,000 (tier 1)"},{value:"22.99",label:"$22.99 (tier 2)",vndLabel:"₫449,000 (tier 2)"},{value:"24.99",label:"$24.99 (tier 3)",vndLabel:"₫499,000 (tier 3)"},{value:"27.99",label:"$27.99 (tier 4)",vndLabel:"₫549,000 (tier 4)"},{value:"29.99",label:"$29.99 (tier 5)",vndLabel:"₫599,000 (tier 5)"},{value:"34.99",label:"$34.99 (tier 6)",vndLabel:"₫649,000 (tier 6)"},{value:"39.99",label:"$39.99 (tier 7)",vndLabel:"₫699,000 (tier 7)"},{value:"44.99",label:"$44.99 (tier 8)",vndLabel:"₫749,000 (tier 8)"},{value:"49.99",label:"$49.99 (tier 9)",vndLabel:"₫799,000 (tier 9)"},{value:"54.99",label:"$54.99 (tier 10)",vndLabel:"₫849,000 (tier 10)"},{value:"59.99",label:"$59.99 (tier 11)",vndLabel:"₫899,000 (tier 11)"},{value:"64.99",label:"$64.99 (tier 12)",vndLabel:"₫949,000 (tier 12)"},{value:"69.99",label:"$69.99 (tier 13)",vndLabel:"₫999,000 (tier 13)"},{value:"74.99",label:"$74.99 (tier 14)",vndLabel:"₫1,049,000 (tier 14)"},{value:"79.99",label:"$79.99 (tier 15)",vndLabel:"₫1,099,000 (tier 15)"},{value:"84.99",label:"$84.99 (tier 16)",vndLabel:"₫1,149,000 (tier 16)"},{value:"89.99",label:"$89.99 (tier 17)",vndLabel:"₫1,199,000 (tier 17)"},{value:"94.99",label:"$94.99 (tier 18)",vndLabel:"₫1,249,000 (tier 18)"},{value:"99.99",label:"$99.99 (tier 19)",vndLabel:"₫1,299,000 (tier 19)"},{value:"109.99",label:"$109.99 (tier 20)",vndLabel:"₫1,349,000 (tier 20)"},{value:"119.99",label:"$119.99 (tier 21)",vndLabel:"₫1,399,000 (tier 21)"},{value:"124.99",label:"$124.99 (tier 22)",vndLabel:"₫1,499,000 (tier 22)"},{value:"129.99",label:"$129.99 (tier 23)",vndLabel:"₫1,599,000 (tier 23)"},{value:"139.99",label:"$139.99 (tier 24)",vndLabel:"₫1,699,000 (tier 24)"},{value:"149.99",label:"$149.99 (tier 25)",vndLabel:"₫1,799,000 (tier 25)"},{value:"159.99",label:"$159.99 (tier 26)",vndLabel:"₫1,899,000 (tier 26)"},{value:"174.99",label:"$174.99 (tier 27)",vndLabel:"₫2,199,000 (tier 27)"},{value:"189.99",label:"$189.99 (tier 28)",vndLabel:"₫2,399,000 (tier 28)"},{value:"199.99",label:"$199.99 (tier 29)",vndLabel:"₫2,499,000 (tier 29)"}],vnd:[{value:"0",label:"Free",usdLabel:"Free"},{value:"399000",label:"₫399,000 (tier 1)",usdLabel:"$19.99 (tier 1)"},{value:"449000",label:"₫449,000 (tier 2)",usdLabel:"$22.99 (tier 2)"},{value:"499000",label:"₫499,000 (tier 3)",usdLabel:"$24.99 (tier 3)"},{value:"549000",label:"₫549,000 (tier 4)",usdLabel:"$27.99 (tier 4)"},{value:"599000",label:"₫599,000 (tier 5)",usdLabel:"$29.99 (tier 5)"},{value:"649000",label:"₫649,000 (tier 6)",usdLabel:"$34.99 (tier 6)"},{value:"699000",label:"₫699,000 (tier 7)",usdLabel:"$39.99 (tier 7)"},{value:"749000",label:"₫749,000 (tier 8)",usdLabel:"$44.99 (tier 8)"},{value:"799000",label:"₫799,000 (tier 9)",usdLabel:"$49.99 (tier 9)"},{value:"849000",label:"₫849,000 (tier 10)",usdLabel:"$54.99 (tier 10)"},{value:"899000",label:"₫899,000 (tier 11)",usdLabel:"$59.99 (tier 11)"},{value:"949000",label:"₫949,000 (tier 12)",usdLabel:"$64.99 (tier 12)"},{value:"999000",label:"₫999,000 (tier 13)",usdLabel:"$69.99 (tier 13)"},{value:"1049000",label:"₫1,049,000 (tier 14)",usdLabel:"$74.99 (tier 14)"},{value:"1099000",label:"₫1,099,000 (tier 15)",usdLabel:"$79.99 (tier 15)"},{value:"1149000",label:"₫1,149,000 (tier 16)",usdLabel:"$84.99 (tier 16)"},{value:"1199000",label:"₫1,199,000 (tier 17)",usdLabel:"$89.99 (tier 17)"},{value:"1249000",label:"₫1,249,000 (tier 18)",usdLabel:"$94.99 (tier 18)"},{value:"1299000",label:"₫1,299,000 (tier 19)",usdLabel:"$99.99 (tier 19)"},{value:"1349000",label:"₫1,349,000 (tier 20)",usdLabel:"$109.99 (tier 20)"},{value:"1399000",label:"₫1,399,000 (tier 21)",usdLabel:"$119.99 (tier 21)"},{value:"1499000",label:"₫1,499,000 (tier 22)",usdLabel:"$124.99 (tier 22)"},{value:"1599000",label:"₫1,599,000 (tier 23)",usdLabel:"$129.99 (tier 23)"},{value:"1699000",label:"₫1,699,000 (tier 24)",usdLabel:"$139.99 (tier 24)"},{value:"1799000",label:"₫1,799,000 (tier 25)",usdLabel:"$149.99 (tier 25)"},{value:"1899000",label:"₫1,899,000 (tier 26)",usdLabel:"$159.99 (tier 26)"},{value:"2199000",label:"₫2,199,000 (tier 27)",usdLabel:"$174.99 (tier 27)"},{value:"2399000",label:"₫2,399,000 (tier 28)",usdLabel:"$189.99 (tier 28)"},{value:"2499000",label:"₫2,499,000 (tier 29)",usdLabel:"$199.99 (tier 29)"}]},p=async e=>{e.preventDefault();try{let e=await fetch("http://huuphuoc.id.vn/api/capnhatgiaKhoaHoc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_khoahoc:m,gia:a,giamgia:c})});e.ok?(await e.json(),h("Course price updated successfully.")):h("Error updating course price.")}catch(e){h("Error updating course price.")}};return(0,l.jsxs)("div",{className:"max-w-4xl p-6 mx-auto bg-white rounded-lg shadow-lg",children:[(0,l.jsx)("h2",{className:"mb-4 text-2xl font-bold text-gray-800",children:"Pricing"}),o&&(0,l.jsxs)("div",{className:"flex items-center p-4 mb-4 text-yellow-800 bg-yellow-200 border border-yellow-300 rounded-lg",children:[(0,l.jsx)("svg",{className:"w-6 h-6 mr-2 text-yellow-800",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.366-.446.997-.446 1.364 0l7.584 9.241c.522.636.068 1.66-.682 1.66H2.092c-.75 0-1.204-1.024-.682-1.66l7.584-9.24zM11 14a1 1 0 11-2 0 1 1 0 012 0zM10 11a1 1 0 10-2 0 1 1 0 002 0z",clipRule:"evenodd"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold",children:"Please finish your premium application"}),(0,l.jsx)("p",{children:"You'll be able to set your price once your payout method is approved."}),(0,l.jsx)("a",{href:"/instructor/user/edit-instructor-info/",className:"mt-2 font-medium text-indigo-600",children:"Complete the premium application"})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"mb-2 text-lg font-semibold text-gray-800",children:"Set a price for your course"}),(0,l.jsx)("p",{className:"mb-4 text-gray-600",children:"Please select the currency and the price tier for your course. If you’d like to offer your course for free, it must have a total video length of less than 2 hours. Also, courses with practice tests cannot be free."}),(0,l.jsxs)("form",{onSubmit:p,children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"currency",className:"block mb-2 font-medium text-gray-700",children:"Currency"}),(0,l.jsx)("select",{id:"currency",value:e,onChange:e=>{t(e.target.value),s(""),d(""),n(!0)},className:"w-full p-2 text-gray-900 bg-yellow-200 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",children:["USD","VND"].map(e=>(0,l.jsx)("option",{value:e.toLowerCase(),children:e},e))})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"price-tier",className:"block mb-2 font-medium text-gray-700",children:"Price Tier"}),(0,l.jsxs)("select",{id:"price-tier",value:a,onChange:e=>{let t=e.target.value;s(t),n(""===t),"0"===t?d("0"):d("")},className:"w-full p-2 text-gray-900 bg-yellow-200 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[(0,l.jsx)("option",{value:"",children:"Select"}),g[e].map(e=>(0,l.jsxs)("option",{value:e.value,children:[e.label," / ",e.vndLabel]},e.value))]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"discount",className:"block mb-2 font-medium text-gray-700",children:"Discount"}),(0,l.jsxs)("select",{id:"discount",value:c,onChange:e=>{d(e.target.value)},className:"w-full p-2 text-gray-900 bg-yellow-200 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",disabled:"0"===a,children:[(0,l.jsx)("option",{value:"",children:"Select"}),(t=>{let a=g[e].find(e=>e.value===t);if(!a)return[];let l=parseFloat(a.value);return g[e].filter(e=>parseFloat(e.value)<l).map(e=>({value:e.value,label:"".concat(e.label," (discount)")}))})(a).map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,l.jsx)("button",{type:"submit",className:"w-full p-2 bg-indigo-600 text-white font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ".concat(i?"opacity-50 cursor-not-allowed":""),disabled:i,children:"Save"})]}),u&&(0,l.jsx)("p",{className:"mt-4 text-red-600",children:u})]})]})};var p=a(9949),x=a(25442),f=a(80335),v=a(34229),y=a(69790),j=a(34260),w=a(52079),N=a(83842),k=a(40674),C=a(31027),S=a(91068);let L=e=>{let{chungchi:t,onSelect:a}=e;if(!Array.isArray(t))return(0,l.jsx)(l.Fragment,{});let r=e=>{a(e),S.oR.success("Landscape selected!")};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"tab-content certificates-checkbox-tabs",id:"myTabContent",children:(0,l.jsx)("div",{className:"tab-pane fade show active",id:"homes",role:"tabpanel","aria-labelledby":"home-tabs",children:(0,l.jsx)("div",{className:"row g-5 mt-4",children:t.filter(e=>"landscape"===e.loai).map((e,t)=>(0,l.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-6 col-12",children:(0,l.jsxs)("div",{className:"rts-image-check-box",children:[(0,l.jsx)("input",{type:"radio",id:"number1-".concat(t),name:"radio-group",defaultValue:"number1",onChange:()=>r(e.id),className:"hidden"}),(0,l.jsx)("label",{htmlFor:"number1-".concat(t),className:"cursor-pointer",children:(0,l.jsx)(m.default,{src:e.giaychungnhan,alt:"Certificate Image",width:140,height:280,className:"rounded-lg border-2 border-gray-300 hover:border-red-600 hover:opacity-75 transition duration-300"})})]})},t))})})}),(0,l.jsx)(S.N9,{})]})},E=e=>{let{chungchi:t,onSelect:a}=e;if(!Array.isArray(t))return(0,l.jsx)(l.Fragment,{});let r=e=>{a(e),S.oR.success("Portrait selected!")};return(0,l.jsxs)("div",{className:"tab-content certificates-checkbox-tabs",id:"myTabContent",children:[(0,l.jsx)("div",{className:"tab-pane fade show active",id:"homes",role:"tabpanel","aria-labelledby":"home-tabs",children:(0,l.jsx)("div",{className:"row g-5 mt-4",children:t.filter(e=>"portrait"===e.loai).map((e,t)=>(0,l.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-6 col-12",children:(0,l.jsxs)("div",{className:"rts-image-check-box",children:[(0,l.jsx)("input",{type:"radio",id:"number1-".concat(t),name:"radio-group",defaultValue:"number1",onChange:()=>r(e.id),className:"hidden"}),(0,l.jsx)("label",{htmlFor:"number1-".concat(t),className:"cursor-pointer",children:(0,l.jsx)(m.default,{src:e.giaychungnhan,alt:"Certificate Image",width:140,height:280,className:"rounded-lg border-2 border-gray-300 hover:border-red-600 hover:opacity-75 transition duration-300"})})]})},t))})}),(0,l.jsx)(S.N9,{})]})},I=async()=>{let e=await fetch("".concat("http://huuphuoc.id.vn/api/ChungChi"));if(!e.ok)throw Error("Failed to fetch courses");return e.json()},_=async e=>{let t=new URLSearchParams(window.location.search).get("id");if(console.log("id_khoahoc",t),!t)throw Error("Course ID not found in URL");try{let a=await fetch("".concat("http://huuphuoc.id.vn/api/GiangVienCourseChungChi"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_khoahoc:t,id_chungchi:e})});if(!a.ok){let e=await a.text();throw Error("Failed to fetch certificate: ".concat(a.status," ").concat(a.statusText," - ").concat(e))}return a.json()}catch(e){throw console.error("Error:",e),e}};function $(){let[e,t]=(0,r.useState)("Landscape"),[a,s]=(0,r.useState)([]),[o,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{I().then(e=>{s(e.data),console.log("chungchi",e)})},[]);let n=e=>{i(e),S.oR.info("Certificate with ID ".concat(e," has been selected."),{title:"Certificate Selected",autoClose:3e3})};console.log("selectedId",o);let c=e=>{t(e),S.oR.success("Switched to ".concat(e.toLowerCase()," view."),{title:"".concat(e," View"),autoClose:2e3})};return(0,l.jsxs)(p.a,{p:5,bg:"gray.50",borderRadius:"md",boxShadow:"md",children:[(0,l.jsx)(x.D,{as:"h2",size:"lg",mb:4,color:"#32ADE6",id:"headingSeven",textAlign:"center",children:"Certificate Template"}),(0,l.jsxs)(f.t,{variant:"enclosed",children:[(0,l.jsxs)(v.w,{children:[(0,l.jsxs)(y.o,{isActive:"Landscape"===e,onClick:()=>c("Landscape"),_selected:{bg:"#32ADE6",color:"white"},p:4,color:"#32ADE6",_hover:{color:"white",bg:"#28b99c"},children:[(0,l.jsx)("i",{className:"fa-sharp fa-light fa-pager p-2"})," Landscape"]}),(0,l.jsxs)(y.o,{isActive:"Portrait"===e,onClick:()=>c("Portrait"),_selected:{bg:"#32ADE6",color:"white"},p:4,color:"#32ADE6",_hover:{color:"white",bg:"#28b99c"},children:[(0,l.jsx)("i",{className:"fa-sharp fa-light fa-pager p-2"})," Portrait"]})]}),(0,l.jsxs)(j.T,{children:[(0,l.jsx)(w.K,{children:(0,l.jsx)(N.z,{in:"Landscape"===e,transition:{enter:{duration:.5}},children:"Landscape"===e&&(0,l.jsx)(L,{chungchi:a,onSelect:n})})}),(0,l.jsx)(w.K,{children:(0,l.jsx)(N.z,{in:"Portrait"===e,transition:{enter:{duration:.5}},children:"Portrait"===e&&(0,l.jsx)(E,{chungchi:a,onSelect:n})})})]})]}),(0,l.jsx)(p.a,{mt:4,children:(0,l.jsxs)(k.z,{spacing:4,children:[(0,l.jsxs)(C.$,{colorScheme:"teal",variant:"solid",p:6,bg:"#32ADE6",textColor:"white",onClick:()=>{S.oR.info("Previewing the selected certificate.",{title:"Preview",autoClose:2e3})},children:[(0,l.jsx)("i",{className:"fa-light fa-eye p-2"}),"Preview"]}),(0,l.jsxs)(C.$,{variant:"outline",onClick:()=>{o?_(o).then(e=>{console.log("data",e),S.oR.success("The certificate has been published successfully.",{title:"Certificate Published",autoClose:3e3})}).catch(e=>{console.error("Error publishing certificate",e),S.oR.error("There was an error publishing the certificate.",{title:"Publish Failed",autoClose:3e3})}):(S.oR.warn("Please select a certificate before publishing.",{title:"No Certificate Selected",autoClose:3e3}),console.log("No ID selected"))},children:["Publish ",(0,l.jsx)("i",{className:"fa-light fa-arrow-right p-2"})]})]})}),(0,l.jsx)(S.N9,{})]})}a(44149),a(59695);var T=a(44746);function A(){return(0,l.jsx)(T.default,{})}let P=()=>{let[e,t]=(0,r.useState)("Mota"),[a,s]=(0,r.useState)(null),[i,n]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[m,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{s(new URL(window.location.href).searchParams.get("id"))},[]);let x=async()=>{if(!a){alert("ID kh\xf3a học kh\xf4ng hợp lệ.");return}n(!0),u(null),p(null),setTimeout(()=>{n(!1),p("Y\xeau cầu đ\xe3 được gửi th\xe0nh c\xf4ng!")},2e3);try{let e=await fetch("http://huuphuoc.id.vn/api/guixemxet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_khoahoc:a})});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();p(t.message),console.log("Response:",t)}catch(e){u("Lỗi khi gửi y\xeau cầu xem x\xe9t: "+e.message),console.error("Error submitting for review:",e)}finally{n(!1)}};return(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(d,{id:a,children:(0,l.jsxs)("div",{className:"flex w-full overflow-hidden border border-gray-300 rounded-lg",children:[(0,l.jsxs)("aside",{className:"h-screen p-4 bg-white border-r w-80",children:[(0,l.jsx)("h5",{className:"p-2 text-lg font-semibold text-left text-gray-700 bg-gray-200 rounded",children:"1. L\xean kế hoạch cho kh\xf3a học của bạn"}),(0,l.jsx)("button",{onClick:()=>t("Mota"),className:"block text-lg text-gray-600 hover:text-[#32ADE6] mt-2 text-left",children:"Người học dự định"}),(0,l.jsx)("h5",{className:"p-2 mt-4 text-lg font-semibold text-left text-gray-700 bg-gray-200 rounded",children:"2. Tạo nội dung của bạn"}),(0,l.jsx)("button",{onClick:()=>t("BaiHoc"),className:"block text-lg text-gray-600 hover:text-[#32ADE6] mt-2 text-left",children:"Chương tr\xecnh giảng dạy"}),(0,l.jsx)("h5",{className:"p-2 mt-4 text-lg font-semibold text-left text-gray-700 bg-gray-200 rounded",children:"3. Xuất bản kh\xf3a học của bạn"}),(0,l.jsx)("button",{onClick:()=>t("TrangDich"),className:"block text-lg text-gray-600 hover:text-[#32ADE6] mt-2 text-left",children:"Trang đ\xedch của kh\xf3a học"}),(0,l.jsx)("button",{onClick:()=>t("GiaCa"),className:"block text-lg text-gray-600 hover:text-[#32ADE6] mt-2 text-left",children:"Gi\xe1 cả"}),(0,l.jsx)("button",{onClick:()=>t("ChungChi"),className:"block text-lg text-gray-600 hover:text-[#32ADE6] mt-2 text-left",children:"Chứng Chỉ"}),(0,l.jsx)("button",{onClick:()=>t("KhuyenMai"),className:"block text-lg text-gray-600 hover:text-[#32ADE6] mt-2 text-left",children:"Khuyến m\xe3i"}),(0,l.jsx)("span",{className:"block mt-2 text-lg text-left text-gray-600",children:"Tin nhắn kh\xf3a học"}),(0,l.jsx)("button",{className:"mt-4 btn bg-[#32ADE6] text-white w-full py-2 text-lg",onClick:x,children:"Submit for Review"}),i&&(0,l.jsx)("p",{className:"mt-2 text-xs text-center text-primary",children:"Đang gửi y\xeau cầu..."}),c&&(0,l.jsx)("p",{className:"mt-2 text-xs text-center text-red-600",children:c}),m&&(0,l.jsx)("p",{className:"mt-2 text-xs text-center text-green-600",children:m})]}),(0,l.jsx)("div",{className:"flex flex-grow min-h-screen pt-16 bg-gray-100",children:(0,l.jsx)("main",{className:"flex-grow p-4 bg-gray-50",children:(()=>{switch(e){case"Mota":return(0,l.jsx)(o,{});case"BaiHoc":return(0,l.jsx)(h,{});case"TrangDich":return(0,l.jsx)(b,{});case"GiaCa":return(0,l.jsx)(g,{});case"ChungChi":return(0,l.jsx)($,{});case"KhuyenMai":return(0,l.jsx)(A,{});default:return(0,l.jsx)("p",{children:"Dashboard Content"})}})()})})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4297,2545,7970,3264,4592,1068,9228,2651,3726,6225,6742,3971,5147,5177,4149,9695,4746,8441,1517,7358],()=>t(68192)),_N_E=e.O()}]);