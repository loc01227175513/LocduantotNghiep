"use strict";exports.id=3143,exports.ids=[3143],exports.modules={43143:(e,t,s)=>{s.r(t),s.d(t,{default:()=>H});var a,l=s(45512),r=s(58009),n=s(69983),o=s(78619),i=s(63998),c=s(41320),d=s(49182),u=s(20604),m=s(18430);let h=(0,r.createContext)(()=>{});function x({value:e,children:t}){return r.createElement(h.Provider,{value:e},t)}var p=s(94128),g=s(14968),f=s(80070),b=s(49164),y=s(71139);let j=null!=(a=r.startTransition)?a:function(e){e()};var w=s(83485),v=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(v||{}),N=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(N||{});let E={0:e=>({...e,disclosureState:(0,f.Y)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId},4:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},5:(e,t)=>e.panelElement===t.element?e:{...e,panelElement:t.element}},S=(0,r.createContext)(null);function P(e){let t=(0,r.useContext)(S);if(null===t){let t=Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,P),t}return t}S.displayName="DisclosureContext";let k=(0,r.createContext)(null);k.displayName="DisclosureAPIContext";let C=(0,r.createContext)(null);function D(e,t){return(0,f.Y)(t.type,E,e,t)}C.displayName="DisclosurePanelContext";let I=r.Fragment,T=y.Ac.RenderStrategy|y.Ac.Static,$=(0,y.FX)(function(e,t){let{defaultOpen:s=!1,...a}=e,l=(0,r.useRef)(null),n=(0,u.P)(t,(0,u.a)(e=>{l.current=e},void 0===e.as||e.as===r.Fragment)),o=(0,r.useReducer)(D,{disclosureState:s?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:i,buttonId:d},m]=o,h=(0,c._)(e=>{m({type:1});let t=(0,b.T)(l);if(!t||!d)return;let s=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(d):t.getElementById(d);null==s||s.focus()}),g=(0,r.useMemo)(()=>({close:h}),[h]),j=(0,r.useMemo)(()=>({open:0===i,close:h}),[i,h]),w=(0,y.Ci)();return r.createElement(S.Provider,{value:o},r.createElement(k.Provider,{value:g},r.createElement(x,{value:h},r.createElement(p.El,{value:(0,f.Y)(i,{0:p.Uw.Open,1:p.Uw.Closed})},w({ourProps:{ref:n},theirProps:a,slot:j,defaultTag:I,name:"Disclosure"})))))}),F=(0,y.FX)(function(e,t){let s=(0,r.useId)(),{id:a=`headlessui-disclosure-button-${s}`,disabled:l=!1,autoFocus:m=!1,...h}=e,[x,p]=P("Disclosure.Button"),f=(0,r.useContext)(C),b=null!==f&&f===x.panelId,j=(0,r.useRef)(null),v=(0,u.P)(j,t,(0,c._)(e=>{if(!b)return p({type:4,element:e})})),N=(0,c._)(e=>{var t;if(b){if(1===x.disclosureState)return;switch(e.key){case w.D.Space:case w.D.Enter:e.preventDefault(),e.stopPropagation(),p({type:0}),null==(t=x.buttonElement)||t.focus()}}else switch(e.key){case w.D.Space:case w.D.Enter:e.preventDefault(),e.stopPropagation(),p({type:0})}}),E=(0,c._)(e=>{e.key===w.D.Space&&e.preventDefault()}),S=(0,c._)(e=>{var t;(0,g.l)(e.currentTarget)||l||(b?(p({type:0}),null==(t=x.buttonElement)||t.focus()):p({type:0}))}),{isFocusVisible:k,focusProps:D}=(0,n.o)({autoFocus:m}),{isHovered:I,hoverProps:T}=(0,o.M)({isDisabled:l}),{pressed:$,pressProps:F}=(0,i.Z)({disabled:l}),B=(0,r.useMemo)(()=>({open:0===x.disclosureState,hover:I,active:$,disabled:l,focus:k,autofocus:m}),[x,I,$,k,l,m]),O=(0,d.c)(e,x.buttonElement),R=b?(0,y.v6)({ref:v,type:O,disabled:l||void 0,autoFocus:m,onKeyDown:N,onClick:S},D,T,F):(0,y.v6)({ref:v,id:a,type:O,"aria-expanded":0===x.disclosureState,"aria-controls":x.panelElement?x.panelId:void 0,disabled:l||void 0,autoFocus:m,onKeyDown:N,onKeyUp:E,onClick:S},D,T,F);return(0,y.Ci)()({ourProps:R,theirProps:h,slot:B,defaultTag:"button",name:"Disclosure.Button"})}),B=(0,y.FX)(function(e,t){let s=(0,r.useId)(),{id:a=`headlessui-disclosure-panel-${s}`,transition:l=!1,...n}=e,[o,i]=P("Disclosure.Panel"),{close:d}=function e(t){let s=(0,r.useContext)(k);if(null===s){let s=Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,e),s}return s}("Disclosure.Panel"),[h,x]=(0,r.useState)(null),g=(0,u.P)(t,(0,c._)(e=>{j(()=>i({type:5,element:e}))}),x),f=(0,p.O_)(),[b,w]=(0,m.p)(l,h,null!==f?(f&p.Uw.Open)===p.Uw.Open:0===o.disclosureState),v=(0,r.useMemo)(()=>({open:0===o.disclosureState,close:d}),[o.disclosureState,d]),N={ref:g,id:a,...(0,m.B)(w)},E=(0,y.Ci)();return r.createElement(p.$x,null,r.createElement(C.Provider,{value:o.panelId},E({ourProps:N,theirProps:n,slot:v,defaultTag:"div",features:T,visible:b,name:"Disclosure.Panel"})))}),O=Object.assign($,{Button:F,Panel:B}),R=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}),_=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z",clipRule:"evenodd"}))});var M=s(14694),U=s(85668);function H(){let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)(0),[n,o]=(0,r.useState)(null),[i,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)({});(0,r.useRef)(null);let x=(0,r.useCallback)(async e=>{},[null,n,h,u]);(0,r.useCallback)(()=>{},[i,x]);let p=(e,t)=>{c(e),o(t),u(!1)},g=async(e,t)=>{try{let s=JSON.parse(null);if(!s){alert("User not found. Please log in.");return}let a={id_nguoidung:s.id,id_khoahoc:null,danhgia:t,noidung:e},l=await U.A.post("http://huuphuoc.id.vn/api/danhgia",a);200===l.status?alert("B\xecnh luận th\xe0nh c\xf4ng!"):alert("B\xecnh luận thất bại.")}catch(e){e.response&&409===e.response.status?alert("Course is already in the cart."):(console.error("Error adding course to cart:",e.response?e.response.data:e.message),alert("Failed to add course to cart."))}},f=async()=>{await (0,M.fT)()};return(e?e.baihocs.length:"No data")===Object.keys(m).length&&f(),(0,l.jsx)("div",{className:"container mx-auto px-4 py-8 bg-gray-100 min-h-screen mt-60 mb-60",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,l.jsxs)("div",{className:"flex-grow lg:pr-8",children:[(0,l.jsxs)("div",{className:"relative pb-[56.25%]",children:[(0,l.jsx)("iframe",{id:"player",className:"absolute top-0 left-0 w-full h-full rounded-lg shadow-lg",src:i?`https://www.youtube.com/embed/${i}?enablejsapi=1`:"",allowFullScreen:!0,title:"YouTube Video"}),d&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-green-200 bg-opacity-75 rounded-lg",children:(0,l.jsx)("span",{className:"text-xl font-semibold text-green-800",children:"Video đ\xe3 xem xong!"})})]}),e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mt-6 flex items-center justify-between border-b border-gray-300 pb-4",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:e.ten}),(0,l.jsxs)("p",{className:"text-2xl font-semibold text-indigo-600",children:["$",e.gia]})]}),(0,l.jsxs)("section",{"aria-labelledby":"course-description",className:"mt-6",children:[(0,l.jsxs)(O,{children:[(0,l.jsxs)(F,{className:"w-full flex justify-between items-center px-4 py-2 bg-white rounded-lg shadow hover:bg-gray-50",children:[(0,l.jsx)("span",{className:"text-lg font-medium text-gray-800",children:"M\xf4 tả kh\xf3a học"}),(0,l.jsx)(R,{"aria-hidden":"true",className:"h-5 w-5 text-gray-500 group-data-[open]:hidden"}),(0,l.jsx)(_,{"aria-hidden":"true",className:"h-5 w-5 text-gray-500 group-data-[open]:block hidden"})]}),(0,l.jsx)(B,{className:"mt-2 px-4 py-2 bg-gray-50 rounded-lg shadow-inner",children:(0,l.jsx)("p",{className:"text-gray-700",children:e.mota})})]}),(0,l.jsxs)(O,{as:"div",className:"mt-4",children:[(0,l.jsxs)(F,{className:"w-full flex justify-between items-center px-4 py-2 bg-white rounded-lg shadow hover:bg-gray-50",children:[(0,l.jsx)("span",{className:"text-lg font-medium text-gray-800",children:"B\xecnh luận"}),(0,l.jsx)(R,{"aria-hidden":"true",className:"h-5 w-5 text-gray-500 group-data-[open]:hidden"}),(0,l.jsx)(_,{"aria-hidden":"true",className:"h-5 w-5 text-gray-500 group-data-[open]:block hidden"})]}),(0,l.jsxs)(B,{className:"mt-2 px-4 py-2 bg-gray-50 rounded-lg shadow-inner",children:[e.danhgia&&e.danhgia.map(e=>(0,l.jsxs)("div",{className:"mb-4 p-4 bg-white rounded-lg shadow",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsxs)("p",{className:"text-lg font-semibold text-yellow-500 mr-2",children:[e.rating," ★"]}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["by ",e.user]})]}),(0,l.jsx)("p",{className:"text-gray-700",children:e.comment})]},e.id)),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=e.target.comment.value,s=e.target.rating.value;await g(t,s)},className:"mt-4 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Comment"}),(0,l.jsx)("textarea",{id:"comment",name:"comment",rows:"4",className:"mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700",children:"Rating"}),(0,l.jsxs)("select",{id:"rating",name:"rating",className:"mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select a rating"}),(0,l.jsx)("option",{value:"1",children:"1"}),(0,l.jsx)("option",{value:"2",children:"2"}),(0,l.jsx)("option",{value:"3",children:"3"}),(0,l.jsx)("option",{value:"4",children:"4"}),(0,l.jsx)("option",{value:"5",children:"5"})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Submit"})})]})]})]}),(0,l.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,l.jsxs)("p",{className:"text-lg font-medium text-gray-800",children:["Instructor: ",(0,l.jsx)("span",{className:"font-normal text-gray-600",children:e.giangvien})]}),(0,l.jsxs)("p",{className:"text-lg font-medium text-gray-800",children:["Category: ",(0,l.jsx)("span",{className:"font-normal text-gray-600",children:e.theloai})]}),(0,l.jsxs)("p",{className:"text-lg font-medium text-gray-800",children:["Sub-category: ",(0,l.jsx)("span",{className:"font-normal text-gray-600",children:e.theloaicon})]}),(0,l.jsxs)("p",{className:"text-lg font-medium text-gray-800",children:["Thời lượng: ",(0,l.jsx)("span",{className:"font-normal text-gray-600",children:(e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return`${t}:${s}:${e%60}`})(s)})]})]})]})]})]}),(0,l.jsx)("div",{className:"w-full lg:w-1/3 mt-8 lg:mt-0",children:(0,l.jsx)("main",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Lessons"}),(0,l.jsx)("div",{className:"space-y-4",children:e&&e.baihocs.map(e=>(0,l.jsxs)(O,{as:"div",className:"border rounded-lg bg-white shadow",children:[(0,l.jsx)("h3",{className:"flow-root",children:(0,l.jsxs)(F,{className:"flex w-full justify-between items-center px-4 py-3 text-left text-sm font-medium text-gray-800 hover:bg-gray-50 rounded-t-lg",children:[(0,l.jsx)("span",{className:"font-medium",children:e.ten}),(0,l.jsxs)("span",{className:"ml-6 flex items-center",children:[(0,l.jsx)(R,{"aria-hidden":"true",className:"h-5 w-5 text-gray-500 group-data-[open]:hidden"}),(0,l.jsx)(_,{"aria-hidden":"true",className:"h-5 w-5 text-gray-500 group-data-[open]:block hidden"})]})]})}),(0,l.jsx)(B,{className:"px-4 py-2",children:(0,l.jsx)("div",{className:"space-y-2",children:e.video.map(e=>{let t=m[e.id]??!1;return(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{id:`check-${e.id}`,"aria-pressed":t,className:`h-4 w-4 border-2 rounded ${t?"bg-blue-600 border-blue-600":"bg-indigo-600 border-indigo-600"} flex items-center justify-center`,style:{zIndex:10,position:"relative"},children:t?"✔":""}),(0,l.jsxs)("div",{className:"flex justify-between items-center cursor-pointer ml-2 w-full px-2 py-1 rounded hover:bg-gray-100",onClick:()=>p(e.url_link,e.id),children:[(0,l.jsx)("span",{className:"text-sm text-gray-700",children:e.ten}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:e.thoiluong})]}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium",children:t?"Đ\xe3 xem":"Chưa xem"})]},e.id)})})})]},e.id))})]})})})]})})}},14694:(e,t,s)=>{s.d(t,{U1:()=>a,fT:()=>r,qh:()=>l,x$:()=>n});let a=async()=>{try{let e=await fetch("http://huuphuoc.id.vn/api/allkhoahoc");if(!e.ok)throw Error("Failed to fetch courses");return await e.json()}catch(e){throw console.error("Error fetching courses:",e),e}},l=async e=>{let t=`http://huuphuoc.id.vn/api/Khoahocchitiet/${e}`,s=await fetch(`${t}`);if(!s.ok)throw Error("Failed to fetch courses");return s.json()},r=async()=>{let e=new URLSearchParams(window.location.search).get("id");console.log("id_khoahoc",e);let t=JSON.parse(localStorage.getItem("data"));if(!e)throw Error("Course ID not found in URL");try{let s=await fetch("http://huuphuoc.id.vn/api/ThemKhoaHocDaHoc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_khoahoc:e,id_nguoidung:t.id})});if(!s.ok){let e=await s.text();throw Error(`Failed to fetch certificate: ${s.status} ${s.statusText} - ${e}`)}return s.json()}catch(e){throw console.error("Error:",e),e}},n=async()=>{let e=new URLSearchParams(window.location.search).get("id"),t=`http://huuphuoc.id.vn/api/GiangVienKhoaHocHienThi/${e}`,s=await fetch(`${t}`);if(!s.ok)throw Error("Failed to fetch courses");return s.json()}}};