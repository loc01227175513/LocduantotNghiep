(()=>{var e={};e.id=2869,e.ids=[2869],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},63041:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>p,routeModule:()=>c,tree:()=>h});var a=t(70260),o=t(28203),i=t(25155),s=t.n(i),n=t(67292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let h=["",{children:["page",{children:["dashboard-student",{children:["khuyenmai",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,68912)),"C:\\xampp\\htdocs\\DuAnTotNghiep\\Hosting\\techstudent-datn - Copy\\aaaaaaaaaa\\LocduantotNghiep\\LocduantotNghiep\\src\\app\\page\\dashboard-student\\khuyenmai\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3731)),"C:\\xampp\\htdocs\\DuAnTotNghiep\\Hosting\\techstudent-datn - Copy\\aaaaaaaaaa\\LocduantotNghiep\\LocduantotNghiep\\src\\app\\page\\dashboard-student\\layout.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,62804)),"C:\\xampp\\htdocs\\DuAnTotNghiep\\Hosting\\techstudent-datn - Copy\\aaaaaaaaaa\\LocduantotNghiep\\LocduantotNghiep\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\xampp\\htdocs\\DuAnTotNghiep\\Hosting\\techstudent-datn - Copy\\aaaaaaaaaa\\LocduantotNghiep\\LocduantotNghiep\\src\\app\\page\\dashboard-student\\khuyenmai\\page.jsx"],u={require:t,loadChunk:()=>Promise.resolve()},c=new a.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/page/dashboard-student/khuyenmai/page",pathname:"/page/dashboard-student/khuyenmai",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:h}})},46983:(e,r,t)=>{Promise.resolve().then(t.bind(t,68912))},12479:(e,r,t)=>{Promise.resolve().then(t.bind(t,55508))},55508:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(45512),o=t(58009);function i(){let[e,r]=(0,o.useState)([]);return(0,a.jsx)("div",{className:"overflow-y-scroll col-lg-9 h-lvh",style:{backgroundColor:"#f5f5f5"},children:(0,a.jsx)("div",{className:"exrolled-course-wrapper-dashed",children:(0,a.jsxs)("div",{className:"voucher-page container",children:[(0,a.jsx)("h1",{children:"Kho Voucher"}),(0,a.jsx)("div",{className:"voucher-list row justify-content-end",children:e.map(e=>(0,a.jsxs)("div",{className:"voucher-card col-md-4",style:{backgroundColor:"#fff",border:"2px solid #000",padding:"20px",margin:"10px",borderRadius:"10px"},children:[(0,a.jsx)("h2",{children:e.magiamgia.maso}),(0,a.jsxs)("p",{children:["Giảm gi\xe1: ",e.magiamgia.giamgia,"%"]}),(0,a.jsxs)("p",{children:["Giới hạn sử dụng: ",e.dasudunghientai]}),(0,a.jsxs)("p",{children:["C\xe1ch sử dụng hiện tại: ",e.magiamgia.sudunghientai]}),(0,a.jsxs)("p",{children:["Trạng th\xe1i: ",e.magiamgia.trangthai]}),(0,a.jsxs)("p",{children:["Ng\xe0y bắt đầu: ",e.magiamgia.ngaybatdau]}),(0,a.jsxs)("p",{children:["Ng\xe0y hết hạn: ",e.magiamgia.ngayketthuc]})]},e.id))})]})})})}t(36865)},36865:(e,r,t)=>{"use strict";t.d(r,{$2:()=>d,NI:()=>i,WJ:()=>n,av:()=>a,qC:()=>s,sL:()=>o});let a=async e=>{let r=new URLSearchParams(window.location.search).get("id");try{let t=await fetch("http://huuphuoc.id.vn/api/addMaGiamGiaKhoaHoc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_khoahoc:r,id_magiamgia:e})});if(!t.ok)throw Error("Failed to add MaGiamGia");return t.json()}catch(e){throw console.error("Fetch error:",e),Error("Network error or server is down")}},o=async()=>{try{let e=await fetch("http://huuphuoc.id.vn/api/showAllMaGiamGiaKhoaHoc");if(!e.ok)throw Error("Failed to fetch MaGiamGia data");return e.json()}catch(e){throw console.error("Fetch error:",e),Error("Network error or server is down")}},i=async()=>{try{let e=await fetch("http://huuphuoc.id.vn/api/showAllMaGiamGia");if(!e.ok)throw Error("Failed to fetch MaGiamGia data");return e.json()}catch(e){throw console.error("Fetch error:",e),Error("Network error or server is down")}},s=async e=>{let r=localStorage.getItem("data");if(!r)throw Error("User not authenticated");let t=JSON.parse(r);try{let r=await fetch("http://huuphuoc.id.vn/api/addNguoiDungMaGiamGia",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trangthai:"Chưa sử dụng",dasudunghientai:"0",id_nguoidung:t.id,id_magiamgia:e.id_magiamgia})});if(!r.ok){let e=await r.json();throw Error(e.message||"Failed to add MaGiamGia")}return r.json()}catch(e){throw console.error("Fetch error:",e),Error(e.message||"Network error or server is down")}},n=async()=>{let e=JSON.parse(localStorage.getItem("data"));if(!e||!e.id)throw Error("User data is missing or invalid");try{let r=await fetch("http://huuphuoc.id.vn/api/showAllNguoiDungMaGiamGia",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_nguoidung:e.id})});if(!r.ok)throw Error(`Server error: ${r.statusText}`);return r.json()}catch(e){throw console.error("Fetch error:",e),Error("Network error or server is down")}},d=async()=>{let e=localStorage.getItem("data"),r=localStorage.getItem("appliedCoupons");if(!e)throw Error("User not authenticated");if(!r)throw Error("No applied coupons found");try{let t=JSON.parse(e),a=r?JSON.parse(r):[];if(!t.id||!a[0]?.id_magiamgia)throw Error("Invalid user or coupon data");let o=await fetch("http://huuphuoc.id.vn/api/TinhMaGiamGia",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_nguoidung:t.id,id_magiamgia:a[0].id_magiamgia})});if(!o.ok){let e=await o.json();throw Error(e.message||"Failed to add MaGiamGia")}return o.json()}catch(e){throw console.error("Fetch error:",e),Error(e.message||"Network error or server is down")}}},68912:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\xampp\\\\htdocs\\\\DuAnTotNghiep\\\\Hosting\\\\techstudent-datn - Copy\\\\aaaaaaaaaa\\\\LocduantotNghiep\\\\LocduantotNghiep\\\\src\\\\app\\\\page\\\\dashboard-student\\\\khuyenmai\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\xampp\\htdocs\\DuAnTotNghiep\\Hosting\\techstudent-datn - Copy\\aaaaaaaaaa\\LocduantotNghiep\\LocduantotNghiep\\src\\app\\page\\dashboard-student\\khuyenmai\\page.jsx","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1491,1902,9562,5668,2701,3260,1782,1492,7283],()=>t(63041));module.exports=a})();