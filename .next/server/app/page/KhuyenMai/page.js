(()=>{var e={};e.id=5792,e.ids=[5792],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},44955:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>l});var a=r(70260),i=r(28203),o=r(25155),s=r.n(o),n=r(67292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l=["",{children:["page",{children:["KhuyenMai",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,59929)),"C:\\xampp\\htdocs\\DuAnTotNghiep\\Hosting\\techstudent-datn - Copy\\aaaaaaaaaa\\LocduantotNghiep\\LocduantotNghiep\\src\\app\\page\\KhuyenMai\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,62804)),"C:\\xampp\\htdocs\\DuAnTotNghiep\\Hosting\\techstudent-datn - Copy\\aaaaaaaaaa\\LocduantotNghiep\\LocduantotNghiep\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\xampp\\htdocs\\DuAnTotNghiep\\Hosting\\techstudent-datn - Copy\\aaaaaaaaaa\\LocduantotNghiep\\LocduantotNghiep\\src\\app\\page\\KhuyenMai\\page.jsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/page/KhuyenMai/page",pathname:"/page/KhuyenMai",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},41041:(e,t,r)=>{Promise.resolve().then(r.bind(r,59929))},6193:(e,t,r)=>{Promise.resolve().then(r.bind(r,12509))},12509:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var a=r(45512),i=r(58009),o=r(88345),s=r(11571),n=r(95982),d=r(24772),l=r(26247),c=r(33327),u=r(18753),h=r(42964),p=r(80693);let m=(0,u.R)(function(e,t){let r=(0,h.V)("Badge",e),{className:i,...o}=(0,l.M)(e);return(0,a.jsx)(p.B.span,{ref:t,className:(0,c.cx)("chakra-badge",e.className),...o,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});m.displayName="Badge";var g=r(96335),x=r(95989),f=r(7545),y=r(36865),b=r(44750);let v=(0,f.P)(o.a);function j({maso:e,giamgia:t,gia:r,trangthai:i,hinh:l,onSave:c,isSaved:u}){let h=(0,s.dU)("white","gray.800"),p=(0,s.dU)("#fff7e6","gray.700");return(0,a.jsx)(v,{maxW:"300px",w:"100%",borderRadius:"md",overflow:"hidden",whileHover:{scale:1.05},transition:"0.2s",boxShadow:"md",children:(0,a.jsxs)(n.z,{bg:h,spacing:0,align:"stretch",children:[(0,a.jsx)(o.a,{p:3,bg:p,w:{base:"100%",sm:"40%"},minH:{base:"80px",sm:"auto"},borderRightWidth:{base:0,sm:"1px"},display:"flex",alignItems:"center",justifyContent:"center",children:(0,a.jsx)(d._,{src:l,alt:l,maxH:"70px",objectFit:"contain"})}),(0,a.jsxs)(o.a,{p:3,w:{base:"100%",sm:"60%"},children:["Đ\xe3 Duyệt"===i&&(0,a.jsx)(m,{colorScheme:"red",mb:1,fontSize:"xs",children:e}),(0,a.jsxs)(g.E,{color:"red.500",fontSize:{base:"16px",md:"18px"},fontWeight:"bold",mb:1,children:["Giảm ",t,"%"]}),(0,a.jsxs)(g.E,{color:"gray.500",fontSize:"xs",mb:1,children:["Đơn Tối Thiểu ₫",r]}),(0,a.jsxs)(n.z,{justify:"space-between",children:[(0,a.jsx)(g.E,{color:"blue.500",fontSize:"xs",children:"Điều Kiện"}),(0,a.jsxs)(x.$,{size:"xs",colorScheme:u?"gray":"red",onClick:()=>c(e),className:"bg-red-300 text-white",isDisabled:u,_hover:{transform:"translateY(-2px)",shadow:"md"},children:[(0,a.jsx)("i",{className:`bi ${u?"bi-check-circle":"bi-save"}`,style:{marginRight:"4px"}}),u?"Đ\xe3 Lưu":"Lưu"]})]})]})]})})}function w(){let[e,t]=(0,i.useState)([]);(0,s.dU)("gray.50","gray.900");let[r,o]=(0,i.useState)([]),n=async e=>{try{let a=r.find(t=>t.magiamgia.maso===e);a&&(await (0,y.qC)({id_magiamgia:a.magiamgia.id}),t(t=>[...t,e]),b.oR.success("Voucher saved successfully!"))}catch(e){console.error("Save error:",e),b.oR.error("Failed to save voucher.")}};return(0,a.jsxs)("div",{className:"container-fluid bg-light py-4",children:[(0,a.jsx)(b.N9,{}),(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,a.jsx)("h2",{className:"text-danger",children:"Ưu đ\xe3i hấp dẫn"})}),(0,a.jsx)("p",{className:"text-muted mt-2",children:"Số lượng c\xf3 hạn, d\xe0nh cho những bạn nhanh nhất"})]}),(0,a.jsx)("div",{className:"row",children:r.map(t=>(0,a.jsx)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t.id},className:"col-12 col-sm-6 col-md-4 col-lg-3 mb-4",children:(0,a.jsx)(j,{maso:t.magiamgia.maso,giamgia:t.khoahoc.giamgia,gia:t.khoahoc.gia,hinh:t.khoahoc.hinh,trangthai:t.magiamgia.trangthai,onSave:n,isSaved:e.includes(t.magiamgia.maso),disabled:"Đ\xe3 sử dụng"===t.magiamgia.trangthai})},t.id))})]})]})}var N=r(81492),_=r(1317);function k(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.default,{}),(0,a.jsx)("div",{className:"flex h-screen mt-60 mb-60",children:(0,a.jsx)(w,{})}),(0,a.jsx)(_.A,{})]})}},36865:(e,t,r)=>{"use strict";r.d(t,{$2:()=>d,NI:()=>o,WJ:()=>n,av:()=>a,qC:()=>s,sL:()=>i});let a=async e=>{let t=new URLSearchParams(window.location.search).get("id");try{let r=await fetch("http://huuphuoc.id.vn/api/addMaGiamGiaKhoaHoc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_khoahoc:t,id_magiamgia:e})});if(!r.ok)throw Error("Failed to add MaGiamGia");return r.json()}catch(e){throw console.error("Fetch error:",e),Error("Network error or server is down")}},i=async()=>{try{let e=await fetch("http://huuphuoc.id.vn/api/showAllMaGiamGiaKhoaHoc");if(!e.ok)throw Error("Failed to fetch MaGiamGia data");return e.json()}catch(e){throw console.error("Fetch error:",e),Error("Network error or server is down")}},o=async()=>{try{let e=await fetch("http://huuphuoc.id.vn/api/showAllMaGiamGia");if(!e.ok)throw Error("Failed to fetch MaGiamGia data");return e.json()}catch(e){throw console.error("Fetch error:",e),Error("Network error or server is down")}},s=async e=>{let t=localStorage.getItem("data");if(!t)throw Error("User not authenticated");let r=JSON.parse(t);try{let t=await fetch("http://huuphuoc.id.vn/api/addNguoiDungMaGiamGia",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trangthai:"Chưa sử dụng",dasudunghientai:"0",id_nguoidung:r.id,id_magiamgia:e.id_magiamgia})});if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to add MaGiamGia")}return t.json()}catch(e){throw console.error("Fetch error:",e),Error(e.message||"Network error or server is down")}},n=async()=>{let e=JSON.parse(localStorage.getItem("data"));if(!e||!e.id)throw Error("User data is missing or invalid");try{let t=await fetch("http://huuphuoc.id.vn/api/showAllNguoiDungMaGiamGia",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_nguoidung:e.id})});if(!t.ok)throw Error(`Server error: ${t.statusText}`);return t.json()}catch(e){throw console.error("Fetch error:",e),Error("Network error or server is down")}},d=async()=>{let e=localStorage.getItem("data"),t=localStorage.getItem("appliedCoupons");if(!e)throw Error("User not authenticated");if(!t)throw Error("No applied coupons found");try{let r=JSON.parse(e),a=t?JSON.parse(t):[];if(!r.id||!a[0]?.id_magiamgia)throw Error("Invalid user or coupon data");let i=await fetch("http://huuphuoc.id.vn/api/TinhMaGiamGia",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_nguoidung:r.id,id_magiamgia:a[0].id_magiamgia})});if(!i.ok){let e=await i.json();throw Error(e.message||"Failed to add MaGiamGia")}return i.json()}catch(e){throw console.error("Fetch error:",e),Error(e.message||"Network error or server is down")}}},59929:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\xampp\\\\htdocs\\\\DuAnTotNghiep\\\\Hosting\\\\techstudent-datn - Copy\\\\aaaaaaaaaa\\\\LocduantotNghiep\\\\LocduantotNghiep\\\\src\\\\app\\\\page\\\\KhuyenMai\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\xampp\\htdocs\\DuAnTotNghiep\\Hosting\\techstudent-datn - Copy\\aaaaaaaaaa\\LocduantotNghiep\\LocduantotNghiep\\src\\app\\page\\KhuyenMai\\page.jsx","default")},96651:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var a=r(58009);let i=globalThis?.document?a.useLayoutEffect:a.useEffect},96305:(e,t,r)=>{"use strict";r.d(t,{d:()=>i,l:()=>a});let[a,i]=(0,r(479).q)({strict:!1,name:"ButtonGroupContext"})},95989:(e,t,r)=>{"use strict";r.d(t,{$:()=>f});var a=r(45512),i=r(44512),o=r(26247),s=r(41903),n=r(33327),d=r(58009),l=r(96305),c=r(80693);function u(e){let{children:t,className:r,...i}=e,o=(0,d.isValidElement)(t)?(0,d.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,s=(0,n.cx)("chakra-button__icon",r);return(0,a.jsx)(c.B.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...i,className:s,children:o})}u.displayName="ButtonIcon";var h=r(80936),p=r(73009);function m(e){let{label:t,placement:r,spacing:i="0.5rem",children:o=(0,a.jsx)(p.y,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:l,...u}=e,m=(0,n.cx)("chakra-button__spinner",s),g="start"===r?"marginEnd":"marginStart",x=(0,d.useMemo)(()=>(0,h.H2)({display:"flex",alignItems:"center",position:t?"relative":"absolute",[g]:t?i:0,fontSize:"1em",lineHeight:"normal",...l}),[l,t,g,i]);return(0,a.jsx)(c.B.div,{className:m,...u,__css:x,children:o})}m.displayName="ButtonSpinner";var g=r(18753),x=r(42964);let f=(0,g.R)((e,t)=>{let r=(0,l.d)(),u=(0,x.V)("Button",{...r,...e}),{isDisabled:h=r?.isDisabled,isLoading:p,isActive:g,children:f,leftIcon:b,rightIcon:v,loadingText:j,iconSpacing:w="0.5rem",type:N,spinner:_,spinnerPlacement:k="start",className:S,as:E,shouldWrapChildren:C,...G}=(0,o.M)(e),M=(0,d.useMemo)(()=>{let e={...u?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...u,...!!r&&{_focus:e}}},[u,r]),{ref:B,type:L}=function(e){let[t,r]=(0,d.useState)(!e);return{ref:(0,d.useCallback)(e=>{e&&r("BUTTON"===e.tagName)},[]),type:t?"button":void 0}}(E),P={rightIcon:v,leftIcon:b,iconSpacing:w,children:f,shouldWrapChildren:C};return(0,a.jsxs)(c.B.button,{disabled:h||p,ref:(0,i.SV)(t,B),as:E,type:N??L,"data-active":(0,s.s)(g),"data-loading":(0,s.s)(p),__css:M,className:(0,n.cx)("chakra-button",S),...G,children:[p&&"start"===k&&(0,a.jsx)(m,{className:"chakra-button__spinner--start",label:j,placement:"start",spacing:w,children:_}),p?j||(0,a.jsx)(c.B.span,{opacity:0,children:(0,a.jsx)(y,{...P})}):(0,a.jsx)(y,{...P}),p&&"end"===k&&(0,a.jsx)(m,{className:"chakra-button__spinner--end",label:j,placement:"end",spacing:w,children:_})]})});function y(e){let{leftIcon:t,rightIcon:r,children:i,iconSpacing:o,shouldWrapChildren:s}=e;return s?(0,a.jsxs)("span",{style:{display:"contents"},children:[t&&(0,a.jsx)(u,{marginEnd:o,children:t}),i,r&&(0,a.jsx)(u,{marginStart:o,children:r})]}):(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(u,{marginEnd:o,children:t}),i,r&&(0,a.jsx)(u,{marginStart:o,children:r})]})}f.displayName="Button"},24772:(e,t,r)=>{"use strict";r.d(t,{_:()=>u});var a=r(45512),i=r(65109),o=r(18753);let s=(0,o.R)(function(e,t){let{htmlWidth:r,htmlHeight:i,alt:o,...s}=e;return(0,a.jsx)("img",{width:r,height:i,ref:t,alt:o,...s})});s.displayName="NativeImage";var n=r(96651),d=r(58009);let l=(e,t)=>"loaded"!==e&&"beforeLoadOrError"===t||"failed"===e&&"onError"===t;var c=r(80693);let u=(0,o.R)(function(e,t){let{fallbackSrc:r,fallback:o,src:u,srcSet:h,align:p,fit:m,loading:g,ignoreFallback:x,crossOrigin:f,fallbackStrategy:y="beforeLoadOrError",referrerPolicy:b,...v}=e,j=void 0!==r||void 0!==o,w=null!=g||x||!j,N=l(function(e){let{loading:t,src:r,srcSet:a,onLoad:i,onError:o,crossOrigin:s,sizes:l,ignoreFallback:c}=e,[u,h]=(0,d.useState)("pending"),p=(0,d.useRef)(),m=(0,d.useCallback)(()=>{if(!r)return;g();let e=new Image;e.src=r,s&&(e.crossOrigin=s),a&&(e.srcset=a),l&&(e.sizes=l),t&&(e.loading=t),e.onload=e=>{g(),h("loaded"),i?.(e)},e.onerror=e=>{g(),h("failed"),o?.(e)},p.current=e},[r,s,a,l,i,o,t]),g=()=>{p.current&&(p.current.onload=null,p.current.onerror=null,p.current=null)};return(0,n.U)(()=>{if(!c)return"loading"===u&&m(),()=>{g()}},[u,m,c]),c?"loaded":u}({...e,crossOrigin:f,ignoreFallback:w}),y),_={ref:t,objectFit:m,objectPosition:p,...w?v:(0,i.c)(v,["onError","onLoad"])};return N?o||(0,a.jsx)(c.B.img,{as:s,className:"chakra-image__placeholder",src:r,..._}):(0,a.jsx)(c.B.img,{as:s,src:u,srcSet:h,crossOrigin:f,loading:g,referrerPolicy:b,className:"chakra-image",..._})});u.displayName="Image"},73009:(e,t,r)=>{"use strict";r.d(t,{y:()=>u});var a=r(45512),i=r(26247),o=r(33327),s=r(71667),n=r(18753),d=r(42964),l=r(80693);let c=(0,s.i7)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),u=(0,n.R)((e,t)=>{let r=(0,d.V)("Spinner",e),{label:s="Loading...",thickness:n="2px",speed:u="0.45s",emptyColor:h="transparent",className:p,...m}=(0,i.M)(e),g=(0,o.cx)("chakra-spinner",p),x={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:n,borderBottomColor:h,borderLeftColor:h,animation:`${c} ${u} linear infinite`,...r};return(0,a.jsx)(l.B.div,{ref:t,__css:x,className:g,...m,children:s&&(0,a.jsx)(l.B.span,{srOnly:!0,children:s})})});u.displayName="Spinner"},95982:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var a=r(45512),i=r(69928);let o=(0,r(18753).R)((e,t)=>(0,a.jsx)(i.B,{align:"center",...e,direction:"row",ref:t}));o.displayName="HStack"},69928:(e,t,r)=>{"use strict";r.d(t,{B:()=>c});var a=r(45512),i=r(32859),o=r(33327),s=r(58009),n=r(80693);let d=e=>(0,a.jsx)(n.B.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});d.displayName="StackItem";var l=r(49704);let c=(0,r(18753).R)((e,t)=>{let{isInline:r,direction:c,align:u,justify:h,spacing:p="0.5rem",wrap:m,children:g,divider:x,className:f,shouldWrapChildren:y,...b}=e,v=r?"row":c??"column",j=(0,s.useMemo)(()=>(function(e){let{spacing:t,direction:r}=e,a={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":(0,l.bk)(r,e=>a[e])}})({spacing:p,direction:v}),[p,v]),w=!!x,N=!y&&!w,_=(0,s.useMemo)(()=>{let e=(0,i.a)(g);return N?e:e.map((t,r)=>{let i=void 0!==t.key?t.key:r,o=r+1===e.length,n=(0,a.jsx)(d,{children:t},i),l=y?n:t;if(!w)return l;let c=(0,s.cloneElement)(x,{__css:j});return(0,a.jsxs)(s.Fragment,{children:[l,o?null:c]},i)})},[x,j,w,N,y,g]),k=(0,o.cx)("chakra-stack",f);return(0,a.jsx)(n.B.div,{ref:t,display:"flex",alignItems:u,justifyContent:h,flexDirection:v,flexWrap:m,gap:w?void 0:p,className:k,...b,children:_})});c.displayName="Stack"},41903:(e,t,r)=>{"use strict";r.d(t,{r:()=>i,s:()=>a});let a=e=>e?"":void 0,i=e=>!!e||void 0},32859:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var a=r(58009);function i(e){return a.Children.toArray(e).filter(e=>(0,a.isValidElement)(e))}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1491,1902,9562,5668,2701,3260,5474,8390,1782,1492,1317],()=>r(44955));module.exports=a})();