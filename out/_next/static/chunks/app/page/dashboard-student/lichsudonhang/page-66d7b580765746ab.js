(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5515],{26896:(e,t,a)=>{Promise.resolve().then(a.bind(a,54306))},54306:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(95155),l=a(12115);let n=async()=>{let e=JSON.parse(localStorage.getItem("data"));if(!e||!e.id)throw Error("No valid data found in local storage");try{let t=await fetch("http://huuphuoc.id.vn/api/lichsumuahang",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_nguoidung:e.id})});if(!t.ok)throw Error("Failed to fetch user data");return t.json()}catch(e){throw console.error("Fetch error:",e),Error("Network error or server is down")}};function r(){let[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)([]),[i,c]=(0,l.useState)(""),[d,h]=(0,l.useState)("today"),[o,u]=(0,l.useState)("");(0,l.useEffect)(()=>{n().then(e=>{t(e.data),r(e.data)})},[]),(0,l.useEffect)(()=>{let t=e.filter(e=>e.trangthai.toLowerCase().includes(i.toLowerCase())),a=new Date;if("today"===d?t=t.filter(e=>new Date(e.created_at).toDateString()===a.toDateString()):"monthly"===d?t=t.filter(e=>{let t=new Date(e.created_at);return t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear()}):"yearly"===d&&(t=t.filter(e=>new Date(e.created_at).getFullYear()===a.getFullYear())),o){let e=new Date(o);t=t.filter(t=>new Date(t.created_at).toDateString()===e.toDateString())}r(t)},[i,e,d,o]);let m=e=>{h(e)};return(0,s.jsx)("div",{className:"overflow-y-scroll col-lg-9 h-lvh",children:(0,s.jsxs)("div",{className:"rts-reviewd-area-dashed table-responsive",style:{whiteSpace:"nowrap"},children:[(0,s.jsxs)("div",{className:"calender-and-tab-btn-between",children:[(0,s.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[(0,s.jsx)("li",{className:"nav-item",role:"presentation",children:(0,s.jsx)("button",{className:"nav-link ".concat("today"===d?"active":""),onClick:()=>m("today"),type:"button",children:"H\xf4m nay"})}),(0,s.jsx)("li",{className:"nav-item",role:"presentation",children:(0,s.jsx)("button",{className:"nav-link ".concat("monthly"===d?"active":""),onClick:()=>m("monthly"),type:"button",children:"H\xe0ng th\xe1ng"})}),(0,s.jsx)("li",{className:"nav-item",role:"presentation",children:(0,s.jsx)("button",{className:"nav-link ".concat("yearly"===d?"active":""),onClick:()=>m("yearly"),type:"button",children:"H\xe0ng năm"})})]}),(0,s.jsx)("div",{className:"date-picker-area",children:(0,s.jsx)("input",{placeholder:"Select your date",type:"date",name:"checkIn",value:o,onChange:e=>u(e.target.value),className:"calendar"})})]}),(0,s.jsx)("div",{className:"filter-area",children:(0,s.jsx)("input",{type:"text",placeholder:"Lọc theo trạng th\xe1i",value:i,onChange:e=>c(e.target.value)})}),(0,s.jsx)("div",{className:"tab-content",id:"myTabContent",children:(0,s.jsxs)("div",{className:"tab-pane fade show active",role:"tabpanel",children:[(0,s.jsx)("h5",{className:"title",children:"Order History"}),(0,s.jsxs)("table",{className:"table-reviews quiz mb--0",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:"10%"},children:" id đặt h\xe0ng "}),(0,s.jsx)("th",{style:{width:"35%"},children:" T\xean kh\xf3a học "}),(0,s.jsx)("th",{style:{width:"20%"},children:" Ng\xe0y "}),(0,s.jsx)("th",{style:{width:"10%"},children:" Gi\xe1 "}),(0,s.jsx)("th",{children:"Status"})]})}),(0,s.jsx)("tbody",{children:a.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"information-quiz",children:(0,s.jsxs)("p",{className:"quiz",children:["#",e.id]})})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"c\xe2u hỏi",children:" T\xean kh\xf3a học tr\xecnh giữ chỗ "})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"marks",children:e.created_at})}),(0,s.jsx)("td",{children:(0,s.jsxs)("span",{children:["$",e.tong]})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"hold-area",children:[(0,s.jsx)("span",{className:"hold",children:e.trangthai}),(0,s.jsx)("span",{className:"hold-i",children:(0,s.jsx)("i",{className:"fa-regular fa-clipboard-list"})})]})})]},e.id))})]})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(26896)),_N_E=e.O()}]);